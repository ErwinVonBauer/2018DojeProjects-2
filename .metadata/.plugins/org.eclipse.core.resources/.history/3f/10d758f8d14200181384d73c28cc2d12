package com.groupware.service;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;
import org.springframework.web.servlet.ModelAndView;
import com.groupware.dao.DraftDao;
import com.groupware.vo.DraftVo;

@Service
public class DraftService {
	@Autowired DraftDao draftdao;
	
	public ModelAndView selectdoc() {
		int doccount = draftdao.selectDocCount();
		ModelAndView view = new ModelAndView();
		view.setViewName("/draftdoc");
		view.addObject("doccount",doccount);
		System.out.println("selected docs:::"+doccount);
		return view;
	}
	
	public ModelAndView insertdoc(DraftVo draftvo, String viewName) {
		ModelAndView model = new ModelAndView(viewName);
		model.addObject("vo",draftvo);
		
		System.out.println(draftvo.toString());
		System.out.println("success");
		draftdao.insertDoc(draftvo);
		return null;
	}
	
	public ModelAndView adduserinfo() {
		String userai = draftdao.selectUserPK();
		String depai = draftdao.selectDepPK();
		String rankai = draftdao.selectRankPK();
		
		ModelAndView view = new ModelAndView();
		view.setViewName("/writedoc");
		view.addObject("userai",userai);
		view.addObject("userai",userai);
		view.addObject("userai",userai);
		System.out.println("selected infos:::"+userinfos);
		return view;
	}
}
